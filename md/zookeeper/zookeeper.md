# 数据模型 

Znode数据可以有多个版本

客户端应用可以在节点上配置监视器

节点不支持部分读写，而是一次性完整读写

两种类型，短暂的(ephemeral),会话结束时删除,不可有子节点，持久的(persistent) 

# 读写机制

一个leader,多个follower

每个server保存一份数据副本

全局数据一致

分布式读写

更新请求转发，由leader实施

数据更新原子性

# watcher

可以监控目录节点的数据变化以及子目录 的变化，一旦状态变化 ，服务器会通知所有设置在这个目录节点上的watcher

# ACL

身份验证模式:
* digest 用户名，密码
* host 通过客户端的主机名
* ip

# 工作 原理 

原子广播,Zab协议

两种模式：恢复模式，广播模式

服务启动或领导者崩溃后，zab进入恢复模式。领导者被选举出来，且大多server完成了和leader状态同步后，结束恢复模式

# 主流应用场景

## 统一命名服务

## 配置管理 

一个应用系统需要多台PC Server运行，但运行的配置项是相同的。若要修改，需要修改所有机器

配置信息可交给zookeeper管理 ，将信息保存在zookeeper某个结点中，将所有需要修改的机器监控配置信息状态 ，若配置信息改变，每台机器 都会收到zookeeper的通知，然后获取新的配置应用到系统中

## 集群管理 

## 共亨锁

## 队列管理 
